<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Crear Cita</title>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}"/>
</head>
<body>
  <div class="container mt-5">
    <form th:action="@{/cita/new/save}" th:object="${cita}" method="post">
      <div class="container border border-2 w-50 p-4">
        <h2 class="mb-4 text-center">Crear Cita</h2>

        <!-- Médico -->
        <div class="mb-3">
          <label for="medico" class="form-label">Médico</label>
          <select id="medico" th:field="*{medico.id}" class="form-select" required>
            <option value="" disabled>-- Selecciona un médico --</option>
            <option th:each="m : ${medicos}" th:value="${m.id}" th:text="${m.nombre}"></option>
          </select>
        </div>

        <!-- Tipo de paciente -->
        <div class="mb-3">
          <label for="pacienteTipo" class="form-label">Tipo de Paciente</label>
          <select id="pacienteTipo" th:field="*{pacienteTipo}" class="form-select" required>
            <option value="" disabled>-- Selecciona tipo --</option>
            <option th:each="t : ${pacienteTipos}" th:value="${t}" th:text="${t}"></option>
          </select>
        </div>

        <!-- ID Paciente -->
        <div class="mb-3">
          <label for="pacienteId" class="form-label">ID de Paciente</label>
          <input type="number" id="pacienteId" th:field="*{pacienteId}" class="form-control" placeholder="Número de documento" required />
        </div>

        <!-- Fecha y Hora -->
        <div class="mb-3">
          <label for="fechaHora" class="form-label">Fecha y Hora</label>
          <input type="datetime-local" id="fechaHora" th:field="*{fechaHora}" class="form-control" step="60" required />
          <div class="form-text">Selecciona la fecha y hora de la cita.</div>
        </div>

        <!-- Estado -->
        <div class="mb-3">
          <label for="estado" class="form-label">Estado</label>
          <select id="estado" th:field="*{estado}" class="form-select" required>
            <option value="" disabled>-- Selecciona estado --</option>
            <option value="Vigente">Vigente</option>
            <option value="Cancelada">Cancelada</option>
            <option value="Completada">Completada</option>
          </select>
        </div>

        <!-- Orden de Servicio -->
        <div class="mb-3">
          <label for="ordenDeServicioId" class="form-label">ID Orden de Servicio</label>
          <input type="number" id="ordenDeServicioId" th:field="*{ordenDeServicioId}" class="form-control" placeholder="ID Orden de Servicio" required />
        </div>

        <!-- Botones -->
        <div class="text-center mt-4">
          <button type="submit" class="btn btn-primary">Guardar</button>
          <a th:href="@{/cita}" class="btn btn-secondary ms-2">Cancelar</a>
        </div>
      </div>
    </form>
  </div>
</body>
</html>